import{Data as l}from"./index-bd9e6e1e.js";import"./index-2ffb232e.js";function v(a,t,n,c){const s=l.Quests[a.questId],e=[];for(const o of a.rewardOffers){const r=s.reward_offers[o];if(!r)continue;const d=u(t,n,c,r.quest);d!==null&&e.push({type:"gem_step",requiredGem:n[d],rewardType:"quest"});const f=p(t,n,c,r.vendor);for(const i of f)e.push({type:"gem_step",requiredGem:n[i],rewardType:"vendor"})}return e}function u(a,t,n,c){for(let s=0;s<t.length;s++){const e=t[s];if(n.has(s))continue;const o=c[e.id];if(!o)continue;if(o.classes.length==0||o.classes.some(d=>d==a.characterClass))return n.add(s),s}return null}function p(a,t,n,c){const s=[];for(let e=0;e<t.length;e++){const o=t[e];if(n.has(e))continue;const r=c[o.id];if(!r)continue;(r.classes.length==0||r.classes.some(f=>f==a.characterClass))&&(n.add(e),s.push(e))}return s}export{v as buildGemSteps};
